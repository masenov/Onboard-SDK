{
    "cfg":
    {
        "modes":
        {
            "logic":
            {
                "title":"Logic",
                "shared_data":
                {
                    "freq_toggle":false,
                    "clear_hide":false
                },
                "machine":"machine_logic",
                "machine_cfg":{"offset":0, "range":20},
                "current_view":"main",
                "views":
                {
                    "main":{
                        "layout":{
                            "trace":{
                                "type":"Logic_Display",
                                "pos":[118,10],
                                "size":[1000,508],
                                "group":"display",
                                "grid_spacing":"10%",
                                "gutter":{"other":10,"bottom":15},
                                "traces":{
                                    "l0":{"bit":1,"y_offset":"3%","y_scale":35,"colour":"white"},
                                    "l1":{"bit":2,"y_offset":"15.5%","y_scale":35,"colour":"brown"},
                                    "l2":{"bit":4,"y_offset":"28%","y_scale":35,"colour":"red"},
                                    "l3":{"bit":8,"y_offset":"40.5%","y_scale":35,"colour":"orange"},
                                    "l4":{"bit":16,"y_offset":"53%","y_scale":35,"colour":"yellow"},
                                    "l5":{"bit":32,"y_offset":"65.5%","y_scale":35,"colour":"green"},
                                    "l6":{"bit":64,"y_offset":"78%","y_scale":35,"colour":"aqua"},
                                    "l7":{"bit":128,"y_offset":"90.5%","y_scale":35,"colour":"purple"}
                                },
                                "on_scroll_up":["inc_ba_range(2)"],
                                "on_scroll_down":["inc_ba_range(-2)"],
                                "refs":{
                                    "data":"ba",
                                    "data_refresh":"data_ready",
                                    "range":"ba_range",
                                    "position":"ba_pos",
                                    "disable":"streaming",
                                    "frequency":"frequency"
                                }
                            },
                            "minimap":
                            {
                                "type":"Mini_Map",
                                "pos":[118,528],
                                "size":[1000,100],
                                "group":"display",
                                "traces":{
                                    "l0":{"bit":1, "y_offset":"3%", "y_scale":5, "colour":"white"},
                                    "l1":{"bit":2, "y_offset":"15.5%", "y_scale":5, "colour":"brown"},
                                    "l2":{"bit":4, "y_offset":"28%", "y_scale":5, "colour":"red"},
                                    "l3":{"bit":8, "y_offset":"40.5%", "y_scale":5, "colour":"orange"},
                                    "l4":{"bit":16, "y_offset":"53%", "y_scale":5, "colour":"yellow"},
                                    "l5":{"bit":32, "y_offset":"65.5%", "y_scale":5, "colour":"green"},
                                    "l6":{"bit":64, "y_offset":"78%", "y_scale":5, "colour":"aqua"},
                                    "l7":{"bit":128, "y_offset":"90.5%", "y_scale":5, "colour":"purple"}
                                },
                                "on_scroll_up":["inc_ba_range(2)"],
                                "on_scroll_down":["inc_ba_range(-2)"],
                                "on_lmb_held":["set_ba_pos(m_x)"],
                                "refs":{
                                    "data":"ba",
                                    "data_refresh":"data_ready",
                                    "range":"ba_range",
                                    "position":"ba_pos",
                                    "deep_scan":"deep_scan",
                                    "zoom":"ba_zoom",
                                    "disable":"streaming"
                                }
                            },
                            "capture":
                            {
                                "type":"Button",
                                "group":"buttons",
                                "size":"big",
                                "pos":[118,638],
                                "on_click":["stop_start()"],
                                "strings":{"true":"Stop", "false":"Capture"},
                                "colours":{"true":"red", "false":"green"},
                                "refs":{"text":"streaming", "colour":"streaming"}
                            },
                            "pos":
                            {
                                "type":"Button",
                                "group":"buttons",
                                "label":"Position",
                                "size":"big",
                                "pos":[390,638],
                                "on_scroll_up":["inc_ba_pos(m_x)"],
                                "on_scroll_down":["inc_ba_pos(-m_x)"],
                                "on_lmb_held":["inc_ba_pos(m_x - 50)"],
                                "refs":{"data":"ba_pos","disable":"streaming"}
                            },
                            "range":
                            {
                                "type":"Button",
                                "group":"buttons",
                                "label":"View Range",
                                "size":"big",
                                "pos":[526,638],
                                "on_scroll_up":["inc_ba_range(2)"],
                                "on_scroll_down":["inc_ba_range(-2)"],
                                "refs":{"data":"ba_range","disable":"streaming"}
                            },
                            "deep_scan":
                            {
                                "type":"Button",
                                "text":"Scan",
                                "group":"display",
                                "size":[80,100],
                                "pos":[38,528],
                                "on_click":["do_deep_scan()"],
                                "refs":{"disable":"streaming"}
                            },
                            "zoom":
                            {
                                "type":"Button",
                                "text":"Zoom",
                                "group":"display",
                                "pos":[1118,528],
                                "size":[64,25],
                                "on_click":["zoom_ba()"],
                                "refs":{"disable":"streaming"}
                            },
                            "reset_zoom":
                            {
                                "type":"Button",
                                "text":"Reset",
                                "group":"display",
                                "pos":[1118,603],
                                "size":[64,25],
                                "on_click":["reset_zoom_ba()"],
                                "refs":{"disable":"streaming"}
                            },
                            "sample_freq":
                            {
                                "type":"Button",
                                "group":"buttons",
                                "label":"Rate",
                                "suffix":"kHz",
                                "pos":[38,638],
                                "size":[80,64],
                                "on_scroll_up":["inc_sample_frequency(1)"],
                                "on_scroll_down":["inc_sample_frequency(-1)"],
                                "on_click":["shared_data.toggle('freq_toggle')"],
                                "refs":{"data":"frequency", "disable":"streaming",
                                        "unhide":{"shared_data":"freq_toggle"}}
                            },
                            "sample_period":
                            {
                                "type":"Button",
                                "group":"buttons",
                                "label":"Period",
                                "suffix":"us",
                                "pos":[38,638],
                                "size":[80,64],
                                "on_scroll_up":["inc_sample_frequency(1)"],
                                "on_scroll_down":["inc_sample_frequency(-1)"],
                                "on_click":["shared_data.toggle('freq_toggle')"],
                                "refs":{"data":"interval", "disable":"streaming",
                                        "hide":{"shared_data":"freq_toggle"}}
                            },
                            "clear":
                            {
                                "type":"Button",
                                "text":"Clear",
                                "group":"buttons",
                                "pos":[1054,638],
                                "size":[64,64],
                                "colour":"red",
                                "on_click":["shared_data.toggle('clear_hide')"],
                                "refs":{"disable":"streaming",
                                        "hide":{"shared_data":"clear_hide"}}
                            },
                            "clear_yes":
                            {
                                "type":"Button",
                                "layer":2,
                                "label":"Really?",
                                "text":"Yes!",
                                "group":"buttons",
                                "pos":[1054,638],
                                "size":[64,64],
                                "colour":"red",
                                "on_click":["clear_data()",
                                            "shared_data.toggle('clear_hide')"],
                                "on_unhover":["shared_data.toggle('clear_hide')"],
                                "refs":{"disable":"streaming",
                                        "unhide":{"shared_data":"clear_hide"}}
                            },
                            "dump_file":
                            {
                                "type":"Button",
                                "size":"big",
                                "label":"Dump Buffer as:",
                                "pos":[917,638],
                                "strings":{"0":"Binary","1":"Decimal CSV","2":"Hex CSV", "3":"Sigrok (.sr)"},
                                "on_click":["dump_to_file()"],
                                "on_scroll_up":["inc_file_format(1)"],
                                "on_scroll_down":["inc_file_format(-1)"],
                                "refs":{"disable":"streaming", "text":"file_mode"}
                            },
                            "toggle_stream_mode":
                            {
                                "type":"Button",
                                "size":"big",
                                "label":"Streaming Mode",
                                "pos":[254,638],
                                "strings":{"0":"Logic", "1":"Analogue A"},
                                "on_click":["toggle_stream_mode()"],
                                "refs":{"text":"stream_mode", "disable":"streaming"}
                            },
                            "back":
                            {
                                "type":"Button",
                                "text":"<",
                                "pos":[0,0],
                                "size":[20,20],
                                "on_click":["switch_mode('lobby')"],
                                "refs":{"disable":"streaming"}
                            }
                        }
                    }
                }
            }
        }
    }
}
