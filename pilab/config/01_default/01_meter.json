{
    "cfg":
    {
        "modes":
        {    
            "meter":
            {    
                "machine":"machine_meter",
                "current_view":"single",
                "shared_data":{"single":true,"dual":false,"diff":false,"logic":false},
                "callbacks":
                {
                    "single_view":
                    [
                        "switch_view('single')",
                        "force_ch('a', True)",
                        "force_ch('b', False)",
                        "force_diff(False)",
                        "shared_data.set_values(['single','dual','diff','logic'], False)",
                        "shared_data.set_value('single', True)"
                    ],
                    "dual_view":
                    [
                        "switch_view('dual')",
                        "force_ch('a', True)",
                        "force_ch('b', True)",
                        "force_diff(False)",
                        "shared_data.set_values(['single','dual','diff','logic'], False)",
                        "shared_data.set_value('dual', True)"
                    ],
                    "diff_view":
                    [
                        "switch_view('diff')",
                        "force_ch('a', True)",
                        "force_ch('b', True)",
                        "force_diff(True)",
                        "shared_data.set_values(['single','dual','diff','logic'], False)",
                        "shared_data.set_value('diff', True)"
                    ],
                    "logic_view":
                    [
                        "switch_view('logic')",
                        "force_ch('a', True)",
                        "force_ch('b', True)",
                        "force_diff(False)",
                        "shared_data.set_values(['single','dual','diff','logic'], False)",
                        "shared_data.set_value('logic', True)"
                    ]
                },
                "mode_widgets":
                {
                    "back":
                    {
                        "type":"Button",
                        "text":"<",
                        "size":"tiny",
                        "on_click":["switch_mode('lobby')"]
                    },
                    "a_disp":
                    {
                        "type":"Panel",
                        "group":"cha",
                        "label":"Channel A",
                        "size":"huge_disp",
                        "font":"mono",
                        "font_size":120,
                        "pos":[270,110],
                        "alterable":false,
                        "text_colour":"cha",
                        "refs":
                        {
                            "data":{"ch":{"a":"text_out"}}
                        }
                    },
                    "a_zero":
                    {
                        "type":"Button",
                        "group":"cha",
                        "text":"Zero",
                        "size":"sml",
                        "pos":[974,304],
                        "text_colour":"cha",
                        "on_click":["zero_ch('a')"],
                        "refs":{"ena":{"ch":{"a":"ena"}}}
                    },
                    "b_disp":
                    {
                        "type":"Panel",
                        "group":"chb",
                        "label":"Channel B",
                        "size":"huge_disp",
                        "font":"mono",
                        "font_size":120,
                        "pos":[270,390],
                        "alterable":false,
                        "text_colour":"chb",
                        "refs":
                        {
                            "data":{"ch":{"b":"text_out"}}
                        }

                    },
                    "b_zero":
                    {
                        "type":"Button",
                        "group":"chb",
                        "text":"Zero",
                        "size":"sml",
                        "pos":[974,584],
                        "text_colour":"chb",
                        "on_click":["zero_ch('b')"],
                        "refs":{"on":{"ch":{"b":"ena"}}}
                    },
                    "enhanced":
                    {
                        "type":"Button",
                        "text":"Enhanced",
                        "size":"std",
                        "pos":[50,300],
                        "on_click":["toggle_enhanced()"],
                        "refs":
                        {
                            "on":{"enhanced":"ena"}
                        },
                        "cols":
                        {
                            "on":"cha"
                        }
                    },
                    "a_clip_top":
                    {
                        "type":"LED",
                        "group":"cha",
                        "size":"led_s",
                        "pos":[275,115],
                        "overlap":true,
                        "colours":
                        {
                            "false":"default",
                            "true":"red"    
                        },
                        "refs":
                        {
                            "data":{"ch":{"a":{"clip":"top"}}},
                            "redraw":{"ch":{"a":"text_out"}}
                        }
                    },
                    "a_clip_bot":
                    {
                        "type":"LED",
                        "group":"cha",
                        "size":"led_s",
                        "pos":[275,285],
                        "overlap":true,
                        "colours":
                        {
                            "false":"default",
                            "true":"red"    
                        },
                        "refs":
                        {
                            "data":{"ch":{"a":{"clip":"bot"}}},
                            "redraw":{"ch":{"a":"text_out"}}
                        }
                    },
                    "b_clip_top":
                    {
                        "type":"LED",
                        "group":"chb",
                        "size":"led_s",
                        "pos":[275,395],
                        "overlap":true,
                        "colours":
                        {
                            "false":"default",
                            "true":"red"    
                        },
                        "refs":
                        {
                            "data":{"ch":{"b":{"clip":"top"}}},
                            "redraw":{"ch":{"b":"text_out"}}
                        }
                    },
                    "b_clip_bot":
                    {
                        "type":"LED",
                        "group":"chb",
                        "size":"led_s",
                        "pos":[275,565],
                        "overlap":true,
                        "colours":
                        {
                            "false":"default",
                            "true":"red"    
                        },
                        "refs":
                        {
                            "data":{"ch":{"b":{"clip":"bot"}}},
                            "redraw":{"ch":{"b":"text_out"}}
                        }
                    },
                    "single":
                    {
                        "type":"Button",
                        "text":"Single",
                        "pos":[79,0],
                        "size":[128,32],
                        "font_size":25,
                        "on_click":
                        [
                            "single_view"
                        ],
                        "refs":
                        {
                            "disable":{"shared_data":"single"}
                        }
                    },
                    "dual":
                    {
                        "type":"Button",
                        "text":"Dual",
                        "pos":[208,0],
                        "size":[128,32],
                        "font_size":25,
                        "on_click":
                        [
                            "dual_view"
                        ],
                        "refs":
                        {
                            "disable":{"shared_data":"dual"}
                        }
                    },
                    "diff":
                    {
                        "type":"Button",
                        "text":"Diff",
                        "colour":"diff",
                        "pos":[337,0],
                        "size":[128,32],
                        "font_size":25,
                        "cols":{"norm":"diff"},
                        "on_click":
                        [
                            "diff_view"
                        ],
                        "refs":
                        {
                            "disable":{"shared_data":"diff"}
                        }
                    },
                    "logic":
                    {
                        "type":"Button",
                        "text":"Logic",
                        "pos":[466,0],
                        "size":[128,32],
                        "font_size":25,
                        "on_click":
                        [
                            "logic_view"
                        ],
                        "refs":
                        {
                            "disable":{"shared_data":"logic"}
                        }
                    },
                    "a_bar":
                    {
                        "type":"Bar_Indicator",
                        "group":"cha",
                        "size":[25,192],
                        "pos":[195 ,110],
                        "ranges":{"top":5.5,"bot":-5.5},
                        "indicator_colour":"cha",
                        "refs":
                        {
                            "data":{"ch":{"a":"display"}}
                        }
                    },
                    "b_bar":
                    {
                        "type":"Bar_Indicator",
                        "group":"chb",
                        "size":[25,192],
                        "pos":[195 ,390],
                        "ranges":{"top":5.5,"bot":-5.5},
                        "indicator_colour":"chb",
                        "refs":
                        {
                            "data":{"ch":{"b":"display"}}
                        }
                    }
                },
                "views":
                {
                    "single":
                    {
                        "delete_widgets":
                        [
                            "b_disp", "b_bar",
                            "b_clip_top","b_clip_bot","b_zero"
                        ],
                        "layout":{}
                    },
                    "dual":
                    {
                        "layout":{}
                    },
                    "diff":
                    {
                        "layout":
                        {
                            "a_disp":
                            {
                                "text_colour":"diff",
                                "label":"Diff ( Channel A - Channel B )"
                            }
                        }
                    },
                    "logic":
                    {
                        "layout":
                        {
                            "a_log_top":
                            {
                                "type":"Button",
                                "group":"cha",
                                "size":"sml",
                                "pos":[80,110],
                                "on_click":["toggle_limits('a')"],
                                "on_scroll_up":["step_limit('a','top',0.1)"],
                                "on_scroll_down":["step_limit('a', 'top',-0.1)"],
                                "refs":
                                {
                                    "on":{"ch":{"a":{"logic":"ena"}}},
                                    "data":{"ch":{"a":{"logic":"top"}}}
                                }
                            },
                            "a_log_bot":
                            {
                                "type":"Button",
                                "group":"cha",
                                "size":"sml",
                                "pos":[80, 270],
                                "on_click":["toggle_limits('a')"],
                                "on_scroll_up":["step_limit('a','bot',0.1)"],
                                "on_scroll_down":["step_limit('a', 'bot',-0.1)"],
                                "refs":
                                {
                                    "on":{"ch":{"a":{"logic":"ena"}}},
                                    "data":{"ch":{"a":{"logic":"bot"}}}
                                }
                            },
                            "a_log_led":
                            {
                                "type":"LED",
                                "group":"cha",
                                "pos":[80,142],
                                "size":[64,128],
                                "on_click":["toggle_limits('a')"],
                                "alterable":true,
                                "colours":
                                {
                                    "1":"green",
                                    "2":"red"
                                },
                                "refs":
                                {
                                    "on":{"ch":{"a":{"logic":"ena"}}},
                                    "data":{"ch":{"a":{"logic":"val"}}}
                                }
                            },
                            "b_log_top":
                            {
                                "type":"Button",
                                "group":"chb",
                                "size":"sml",
                                "pos":[80,390],
                                "on_click":["toggle_limits('b')"],
                                "on_scroll_up":["step_limit('b','top',0.1)"],
                                "on_scroll_down":["step_limit('b', 'top',-0.1)"],
                                "refs":
                                {
                                    "on":{"ch":{"b":{"logic":"ena"}}},
                                    "data":{"ch":{"b":{"logic":"top"}}}
                                }
                            },
                            "b_log_bot":
                            {
                                "type":"Button",
                                "group":"chb",
                                "size":"sml",
                                "pos":[80,550],
                                "on_click":["toggle_limits('b')"],
                                "on_scroll_up":["step_limit('b','bot',0.1)"],
                                "on_scroll_down":["step_limit('b', 'bot',-0.1)"],
                                "refs":
                                {
                                    "on":{"ch":{"b":{"logic":"ena"}}},
                                    "data":{"ch":{"b":{"logic":"bot"}}}
                                }
                            },
                            "b_log_led":
                            {
                                "type":"LED",
                                "group":"chb",
                                "pos":[80,422],
                                "size":[64,128],
                                "on_click":["toggle_limits('b')"],
                                "alterable":true,
                                "colours":
                                {
                                    "1":"green",
                                    "2":"red"
                                },
                                "refs":
                                {
                                    "on":{"ch":{"b":{"logic":"ena"}}},
                                    "data":{"ch":{"b":{"logic":"val"}}}
                                }                                
                            },
                            "a_bar":
                            {
                                "marker_colours":
                                {
                                    "marker_top":"green",
                                    "marker_bot":"red"
                                },
                                "refs":
                                {
                                    "marker_top":{"ch":{"a":{"logic":"top"}}},
                                    "marker_bot":{"ch":{"a":{"logic":"bot"}}}
                                }
                            },
                            "b_bar":
                            {
                                "marker_colours":
                                {
                                    "marker_top":"green",
                                    "marker_bot":"red"
                                },
                                "refs":
                                {
                                    "marker_top":{"ch":{"b":{"logic":"top"}}},
                                    "marker_bot":{"ch":{"b":{"logic":"bot"}}}
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
